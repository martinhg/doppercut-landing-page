---
import '../../styles/global.css';

// Components
import Layout from '../../layouts/Layout.astro';
import Navbar from '../../components/Navbar.astro';
import Footer from '../../components/Footer.astro';

// i18n
import { countries, countryTerms } from '../../i18n/config';
import { ui } from '../../i18n/content';

// Images
import dashboardImg from '../../assets/dashboard.webp';
import mobileImg from '../../assets/mobile.webp';
import websiteImg from '../../assets/website.webp';

export function getStaticPaths() {
  return Object.keys(countries).map((code) => ({ params: { country: code } }));
}

const countryParam = typeof Astro.params?.country === 'string' ? Astro.params.country : 'ar';
const currentCountry = countries[countryParam as keyof typeof countries] ?? countries.ar;
const lang = (currentCountry.lang ?? 'es_ar') as keyof typeof ui;
const t = ui[lang];
const terms = countryTerms[countryParam as keyof typeof countryTerms];

const tr = (text: string) => text.replace(/{appointment}/g, terms.appointment);

const titleSEO = `DopperCut ${currentCountry.name} | Sistema de ${terms.appointment} para Barber铆as`;

const steps = [
  {
    step: '01',
    title: t.section_6.step1_title,
    text: t.section_6.step1_desc,
    icon: 'M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z', // Icono Edit/Setup
  },
  {
    step: '02',
    title: t.section_6.step2_title,
    text: t.section_6.step2_desc,
    icon: 'M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1', // Icono Link
  },
  {
    step: '03',
    title: t.section_6.step3_title,
    text: t.section_6.step3_desc,
    icon: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z',
  },
];
---

<Layout title={titleSEO} description={t.layout.description} lang={lang}>
  <Navbar country={countryParam} />

  <main>
    <!-- 1. HERO SECTION -->
    <section class='relative pt-32 pb-20 lg:pt-48 lg:pb-40 overflow-hidden bg-slate-50 selection:bg-primary selection:text-white'>
      <!-- === FONDO INTERACTIVO (Solo Desktop) === -->
      <div class='hidden lg:block absolute inset-0 w-full h-full pointer-events-none z-0'>
        <!-- ELEMENTO 1: Notificaci贸n de Turno (Arriba Izquierda) -->
        <div class='absolute top-[10%] left-[5%] animate-float-slow bg-white p-4 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 flex items-center gap-3 w-64'>
          <div class='w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600'>
            <svg class='w-5 h-5' fill='none' stroke='currentColor' viewBox='0 0 24 24'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 13l4 4L19 7'></path></svg>
          </div>
          <div>
            <div class='text-xs text-slate-500 font-medium'>{tr(t.hero.elements.element_one.title)}</div>
            <div class='text-sm font-bold text-navy'>{t.hero.elements.element_one.subtitle}</div>
          </div>
        </div>

        <!-- ELEMENTO 2: Tarjeta de Ingresos (Arriba Derecha) -->
        <div class='absolute top-[10%] right-[5%] animate-float-medium delay-200 bg-white p-4 rounded-2xl shadow-[0_8px_30px_rgb(0,0,0,0.04)] border border-slate-100 w-56'>
          <div class='flex justify-between items-center mb-2'>
            <span class='text-xs text-slate-500'>{t.hero.elements.element_two}</span>
            <span class='text-xs font-bold text-green-500 bg-green-50 px-2 py-0.5 rounded-full'>+12%</span>
          </div>
          <div class='text-2xl font-bold text-navy'>$45.800</div>
          <div class='h-1 w-full bg-slate-100 rounded-full mt-2 overflow-hidden'>
            <div class='h-full bg-primary w-[70%] rounded-full'></div>
          </div>
        </div>

        <!-- ELEMENTO 3: Perfil de Cliente (Abajo Izquierda) -->
        <div class='absolute top-[35%] left-[5%] animate-float-fast delay-100 bg-white/80 backdrop-blur-sm p-3 rounded-xl shadow-lg border border-white/50 flex items-center gap-3'>
          <div class='w-8 h-8 rounded-full bg-primary-gradient'></div>
          <div class='text-sm font-medium text-navy'>{t.hero.elements.element_three} </div>
        </div>

        <!-- ELEMENTO 4: Icono 3D/Shape Abstracto (Abajo Derecha) -->
        <div class='absolute top-[40%] right-[15%] animate-float-x-slow'>
          <!-- C铆rculo decorativo con gradiente -->
          <div class='w-24 h-24 rounded-full bg-linear-to-tr from-accent to-white opacity-60 blur-xl'></div>
          <div class='absolute inset-0 flex items-center justify-center'>
            <div class='w-16 h-16 bg-navy rounded-2xl flex items-center justify-center shadow-2xl text-white transform rotate-12'>
              <svg class='w-8 h-8' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'></path></svg>
            </div>
          </div>
        </div>

        <!-- ELEMENTO 5: Blur Turquesa gigante de fondo (Para dar atm贸sfera) -->
        <div class='absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/5 rounded-full blur-3xl -z-10'></div>
      </div>

      <!-- === CONTENIDO CENTRAL === -->
      <div class='max-w-6xl mx-auto px-6 text-center relative z-10'>
        <div class='reveal inline-block mb-4 px-3 py-1 rounded-full bg-accent/50 border border-primary-light/30 text-primary-dark text-xs font-semibold tracking-wide uppercase'>{t.hero.tag}</div>
        <h1 class='reveal delay-100 text-5xl lg:text-7xl font-bold tracking-tight text-navy mb-6 leading-[1.1]'>
          {t.hero.title}
          <br class='hidden lg:block' />
          <span class='bg-primary-gradient bg-clip-text text-transparent'>{t.hero.subhero}</span>
        </h1>

        <p class='reveal delay-100 text-lg lg:text-xl text-slate max-w-2xl mx-auto mb-10'>{tr(t.hero.subtitle)}</p>

        <div class='reveal delay-200 flex flex-col sm:flex-row gap-4 justify-center items-center'>
          <a href='#contacto' class='px-8 py-4 bg-navy text-white rounded-full font-medium shadow-lg shadow-navy/25 hover:shadow-navy/40 hover:-translate-y-1 transition-all'>{t.nav.trial}</a>
          <a href='#como-funciona' class='px-8 py-4 bg-white text-navy border border-slate-200 rounded-full font-medium hover:bg-slate-50 transition-colors'>{t.nav.how}</a>
        </div>

        <div class='mt-6 flex items-center justify-center gap-4 text-sm text-slate-500 reveal delay-300'>
          <div class='flex -space-x-2'>
            <img class='w-8 h-8 rounded-full border-2 border-white' src='https://i.pravatar.cc/100?img=1' alt='User' />
            <img class='w-8 h-8 rounded-full border-2 border-white' src='https://i.pravatar.cc/100?img=3' alt='User' />
            <img class='w-8 h-8 rounded-full border-2 border-white' src='https://i.pravatar.cc/100?img=8' alt='User' />
          </div>
          <p><span class='font-bold text-navy'>+100 </span>{t.hero.social_proof}</p>
        </div>

        <!-- MOCKUP PRINCIPAL (Ancla visual) -->
        <div class='reveal delay-300 mt-16 relative'>
          <div class='absolute inset-0 bg-primary/20 blur-[80px] rounded-full transform scale-75'></div>
          <img
            src={dashboardImg.src}
            class='relative rounded-xl shadow-2xl border border-slate-200/50 max-w-4xl mx-auto w-full h-auto object-cover'
            alt='DopperCut Dashboard'
            width={dashboardImg.width}
            height={dashboardImg.height}
            sizes='(max-width: 768px) 100vw, 600px'
            loading='eager'
            fetchpriority='high'
          />
        </div>
      </div>
    </section>

    <!-- 2. PROBLEMA / AGITACIN (Bento Grid Style) -->
    <section class='py-24 bg-white relative overflow-hidden'>
      <!-- Fondo decorativo abstracto (Patr贸n de puntos sutil) -->
      <div class='absolute inset-0 bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] bg-size-[20px_20px] opacity-50'></div>

      <div class='max-w-6xl mx-auto px-6 relative z-10'>
        <!-- Encabezado de Secci贸n -->
        <div class='text-center max-w-3xl mx-auto mb-16 reveal'>
          <h2 class='text-3xl lg:text-4xl font-bold text-navy mb-6'>{t.problems.title}<br /><span class='text-primary'>{t.problems.subtitle}</span></h2>
          <p class='text-slate text-lg leading-relaxed'>{t.problems.description}</p>
        </div>

        <!-- Grid de Problemas (Bento Grid) -->
        <div class='grid md:grid-cols-3 gap-8'>
          <!-- TARJETA 1: El Caos de WhatsApp -->
          <div class='reveal group relative bg-slate-50 rounded-3xl border border-slate-200 p-8 hover:shadow-xl hover:shadow-navy/5 transition-all duration-300 hover:-translate-y-1 overflow-hidden'>
            <div class='absolute top-0 right-0 w-32 h-32 bg-red-100 rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity'></div>
            <!-- Icono -->
            <div class='w-12 h-12 bg-white rounded-xl border border-slate-100 shadow-sm flex items-center justify-center mb-6 text-red-500'>
              <svg class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                ><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z'
                ></path></svg
              >
            </div>

            <h3 class='text-xl font-bold text-navy mb-3'>{t.problems.p1_title}</h3>
            <p class='text-slate text-sm mb-8 leading-relaxed'>{t.problems.p1_desc}</p>

            <!-- Visual Mini-Mockup: Chat Ca贸tico -->
            <div class='relative bg-white rounded-lg border border-slate-200 p-3 shadow-sm w-full opacity-80 group-hover:opacity-100 transition-opacity'>
              <div class='flex flex-col gap-2'>
                <div class='self-start bg-slate-100 rounded-lg rounded-tl-none p-2 text-[10px] text-slate-600 max-w-[80%]'>{t.problems.p1_elem1}</div>
                <div class='self-end bg-green-100 rounded-lg rounded-tr-none p-2 text-[10px] text-green-800 max-w-[80%]'>{t.problems.p1_elem2}</div>
                <div class='self-start bg-slate-100 rounded-lg rounded-tl-none p-2 text-[10px] text-slate-600 max-w-[80%]'>{t.problems.p1_elem3}</div>
                <!-- Notificaci贸n de error -->
                <div class='absolute -top-2 -right-2 bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm animate-bounce'>+15 {t.problems.p1_elem4}</div>
              </div>
            </div>
          </div>

          <!-- TARJETA 2: Ausencias (No-Show) -->
          <div class='reveal delay-100 group relative bg-slate-50 rounded-3xl border border-slate-200 p-8 hover:shadow-xl hover:shadow-navy/5 transition-all duration-300 hover:-translate-y-1 overflow-hidden'>
            <div class='absolute top-0 right-0 w-32 h-32 bg-orange-100 rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity'></div>
            <!-- Icono -->
            <div class='w-12 h-12 bg-white rounded-xl border border-slate-100 shadow-sm flex items-center justify-center mb-6 text-orange-500'>
              <svg class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'></path></svg>
            </div>

            <h3 class='text-xl font-bold text-navy mb-3'>{t.problems.p2_title}</h3>
            <p class='text-slate text-sm mb-8 leading-relaxed'>{t.problems.p2_desc}</p>

            <!-- Visual Mini-Mockup: Calendario con Huecos -->
            <div class='bg-white rounded-lg border border-slate-200 p-4 shadow-sm w-full opacity-80 group-hover:opacity-100 transition-opacity'>
              <div class='grid grid-cols-1 gap-2'>
                <div class='flex items-center gap-2 opacity-40'>
                  <div class='w-1 h-8 bg-slate-300 rounded-full'></div>
                  <div class='flex-1 h-8 bg-slate-100 rounded flex items-center px-2 text-[10px]'>{t.problems.p2_elem1}</div>
                </div>
                <div class='flex items-center gap-2'>
                  <div class='w-1 h-8 bg-red-400 rounded-full'></div>
                  <div class='flex-1 h-8 bg-red-50 rounded border border-red-100 flex items-center justify-between px-2 text-[10px] text-red-500 font-medium'>
                    <span>17:00 PM</span>
                    <span class='bg-red-100 px-1.5 rounded text-[9px]'>{t.problems.p2_elem2}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- TARJETA 3: Caja Negra (Finanzas) -->
          <div class='reveal delay-200 group relative bg-slate-50 rounded-3xl border border-slate-200 p-8 hover:shadow-xl hover:shadow-navy/5 transition-all duration-300 hover:-translate-y-1 overflow-hidden'>
            <div class='absolute top-0 right-0 w-32 h-32 bg-blue-100 rounded-full blur-3xl opacity-0 group-hover:opacity-50 transition-opacity'></div>
            <!-- Icono -->
            <div class='w-12 h-12 bg-white rounded-xl border border-slate-100 shadow-sm flex items-center justify-center mb-6 text-primary'>
              <svg class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                ><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z'></path></svg
              >
            </div>

            <h3 class='text-xl font-bold text-navy mb-3'>{t.problems.p3_title}</h3>
            <p class='text-slate text-sm mb-8 leading-relaxed'>{t.problems.p3_desc}</p>

            <!-- Visual Mini-Mockup: Ticket vs Gr谩fico -->
            <div class='relative h-24 w-full'>
              <!-- Papel arrugado (Representaci贸n abstracta) -->
              <div class='absolute left-0 bottom-0 w-24 h-20 bg-white border border-slate-200 -rotate-6 shadow-sm p-2 flex flex-col gap-1 z-10'>
                <div class='h-1 w-1/2 bg-slate-200 rounded'></div>
                <div class='h-1 w-3/4 bg-slate-200 rounded'></div>
                <div class='h-1 w-2/3 bg-slate-200 rounded'></div>
              </div>
              <!-- Flecha de soluci贸n -->
              <div class='absolute left-28 top-8 text-slate-300'>
                <svg class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 8l4 4m0 0l-4 4m4-4H3'></path></svg>
              </div>
              <!-- Gr谩fico Moderno -->
              <div class='absolute right-0 bottom-2 w-28 h-16 bg-white border border-primary/20 rounded-lg shadow-sm p-2 flex items-end justify-around gap-1 z-10'>
                <div class='w-2 bg-primary/40 h-[40%] rounded-t-sm'></div>
                <div class='w-2 bg-primary/60 h-[70%] rounded-t-sm'></div>
                <div class='w-2 bg-primary h-full rounded-t-sm shadow-[0_0_10px_rgba(0,168,232,0.4)]'></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Conector Visual (Flecha hacia abajo) -->
        <div class='mt-30 flex justify-center reveal delay-300'>
          <div class='flex flex-col items-center gap-3'>
            <span class='text-md font-semibold text-primary uppercase tracking-wider'>{t.problems.connector}</span>
            <div class='w-px h-15 bg-linear-to-b from-slate-200 to-primary'></div>
          </div>
        </div>
      </div>
    </section>

    <!-- 3. BENEFICIOS (Grid 3 Cols - Final Polish) -->
    <section class='py-20 bg-slate-50/50 relative'>
      <!-- Decoraci贸n de fondo sutil -->
      <div class='absolute inset-0 opacity-[0.03] pointer-events-none'></div>
      <div class='max-w-6xl mx-auto px-6 relative z-10'>
        <!-- Header -->
        <div class='text-center max-w-3xl mx-auto mb-20 reveal'>
          <h2 class='text-3xl lg:text-4xl font-bold text-navy mb-4 tracking-tight'>{t.features.title}</h2>
          <p class='text-slate-500 text-lg leading-relaxed'>{t.features.subtitle}</p>
        </div>

        <!-- Grid de Tarjetas -->
        <div class='grid md:grid-cols-3 gap-8'>
          <div class={`reveal delay-100 group relative bg-white rounded-3xl p-8 border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-cyan-500/10 transition-all duration-500 hover:-translate-y-2 overflow-hidden flex flex-col h-full`}>
            <div class='absolute bottom-0 left-0 w-full h-1.5 bg-slate-50'>
              <div class='w-full h-full bg-primary-gradient opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-500 ease-out'></div>
            </div>
            <div class='relative z-10 flex-1 flex flex-col items-start'>
              <div
                class='w-14 h-14 rounded-2xl bg-cyan-50 text-cyan-700 flex items-center justify-center mb-6 group-hover:scale-110 group-hover:text-white transition-all duration-300 shadow-sm group-hover:shadow-cyan-200/50 relative overflow-hidden'
              >
                <div class='absolute inset-0 bg-primary-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-300'></div>
                <svg class='w-7 h-7 relative z-10' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
                  <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z'></path>
                </svg>
              </div>

              <h3 class='text-xl font-bold text-navy mb-3 group-hover:text-cyan-600 transition-colors duration-300'>{t.features.f1_title}</h3>
              <p class='text-slate-600 leading-relaxed mb-4'>{t.features.f1_desc}</p>
            </div>
          </div>

          <div class={`reveal delay-200 group relative bg-white rounded-3xl p-8 border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-cyan-500/10 transition-all duration-500 hover:-translate-y-2 overflow-hidden flex flex-col h-full`}>
            <div class='absolute bottom-0 left-0 w-full h-1.5 bg-slate-50'>
              <div class='w-full h-full bg-primary-gradient opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-500 ease-out'></div>
            </div>
            <div class='relative z-10 flex-1 flex flex-col items-start'>
              <div
                class='w-14 h-14 rounded-2xl bg-cyan-50 text-cyan-700 flex items-center justify-center mb-6 group-hover:scale-110 group-hover:text-white transition-all duration-300 shadow-sm group-hover:shadow-cyan-200/50 relative overflow-hidden'
              >
                <div class='absolute inset-0 bg-primary-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-300'></div>
                <svg class='w-7 h-7 relative z-10' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='1.5'
                    d='M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9'></path>
                </svg>
              </div>

              <h3 class='text-xl font-bold text-navy mb-3 group-hover:text-cyan-600 transition-colors duration-300'>{t.features.f2_title}</h3>
              <p class='text-slate-600 leading-relaxed mb-4'>{t.features.f2_desc}</p>
            </div>
          </div>

          <div class={`reveal delay-300 group relative bg-white rounded-3xl p-8 border border-slate-100 shadow-sm hover:shadow-2xl hover:shadow-cyan-500/10 transition-all duration-500 hover:-translate-y-2 overflow-hidden flex flex-col h-full`}>
            <div class='absolute bottom-0 left-0 w-full h-1.5 bg-slate-50'>
              <div class='w-full h-full bg-primary-gradient opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 transition-all duration-500 ease-out'></div>
            </div>
            <div class='relative z-10 flex-1 flex flex-col items-start'>
              <div
                class='w-14 h-14 rounded-2xl bg-cyan-50 text-cyan-700 flex items-center justify-center mb-6 group-hover:scale-110 group-hover:text-white transition-all duration-300 shadow-sm group-hover:shadow-cyan-200/50 relative overflow-hidden'
              >
                <div class='absolute inset-0 bg-primary-gradient opacity-0 group-hover:opacity-100 transition-opacity duration-300'></div>
                <svg class='w-7 h-7 relative z-10' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
                  <path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='1.5'
                    d='M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z'></path>
                </svg>
              </div>

              <h3 class='text-xl font-bold text-navy mb-3 group-hover:text-cyan-600 transition-colors duration-300'>{t.features.f3_title}</h3>
              <p class='text-slate-600 leading-relaxed mb-4'>{t.features.f3_desc}</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 4. MTRICAS SOCIALES & LOGOS -->
    <section class='py-20 bg-navy overflow-hidden text-white relative'>
      <!-- Fondo decorativo sutil -->
      <div class='absolute top-0 left-0 w-full h-full overflow-hidden z-0 opacity-20'>
        <div class='absolute top-[-10%] left-[-10%] w-96 h-96 bg-primary rounded-full blur-[100px]'></div>
        <div class='absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-primary-dark rounded-full blur-[100px]'></div>
      </div>
      <div class='max-w-6xl mx-auto px-6 mb-16 relative z-10'>
        <div class='grid grid-cols-2 md:grid-cols-3 gap-8 text-center border-b border-white/10 pb-12'>
          {
            [
              { value: 100, label: t.metrics.active_business, prefix: '+', suffix: '' },
              { value: 120, label: t.metrics.appointments, prefix: '+', suffix: 'k' },
              { value: 200, label: t.metrics.professionals, prefix: '+', suffix: '' },
            ].map((metric) => (
              <div class='reveal'>
                <div class='text-4xl lg:text-5xl font-bold bg-primary-gradient bg-clip-text text-transparent mb-2 flex justify-center items-baseline'>
                  <span>{metric.prefix}</span>
                  <span class='counter-animate' data-target={metric.value}>
                    0
                  </span>
                  <span>{metric.suffix}</span>
                </div>
                <div class='text-slate-300 font-medium'>{metric.label}</div>
              </div>
            ))
          }
        </div>
        <p class='text-center text-slate-400 text-sm mt-8 uppercase tracking-widest'>{t.metrics.caption}</p>
      </div>

      <!-- Carrusel Infinito de Logos -->
      <div class='relative w-full flex overflow-hidden py-4 z-10'>
        <!-- M谩scaras de desvanecimiento a los costados -->
        <div class='absolute left-0 top-0 bottom-0 w-20 bg-linear-to-r from-navy to-transparent z-20'></div>
        <div class='absolute right-0 top-0 bottom-0 w-20 bg-linear-to-l from-navy to-transparent z-20'></div>
        <div class='animate-scroll flex gap-16 min-w-full items-center justify-center px-8'>
          <!-- Logos Placeholder (Repetidos para el loop infinito) -->
          {
            [1, 2, 3, 4, 5, 6, 1, 2, 3, 4, 5, 6].map((n) => (
              <div class='h-8 w-32 bg-white/10 rounded flex items-center justify-center text-xs text-slate-500 font-bold uppercase tracking-widest hover:bg-white/20 transition-colors cursor-pointer'>LOGO {n}</div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- 5. FEATURES (Bento Grid Style - High Fidelity) -->
    <section class='py-32 bg-white relative overflow-hidden'>
      <div class='max-w-7xl mx-auto px-6 relative z-10'>
        <!-- Header -->
        <div class='max-w-2xl mx-auto text-center mb-20'>
          <h2 class='text-base font-bold uppercase tracking-wide text-cyan-600 mb-2'>{t.section_5.caption}</h2>
          <p class='text-4xl font-bold tracking-tight text-navy sm:text-5xl mb-6'>{t.section_5.title}</p>
          <p class='text-lg leading-relaxed text-slate-600'>{t.section_5.subtitle}</p>
        </div>

        <div class='grid lg:grid-cols-3 gap-6'>
          <!-- Card Grande: Panel Administrativo -->
          <div class='reveal lg:col-span-2 bg-slate-50 rounded-[2.5rem] p-8 lg:p-12 border border-slate-200 overflow-hidden relative group'>
            <!-- Texto -->
            <div class='relative z-10 max-w-md mb-8'>
              <div class='w-12 h-12 rounded-xl bg-white shadow-sm flex items-center justify-center mb-6 text-cyan-600'>
                <svg class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                  ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z'
                  ></path></svg
                >
              </div>
              <h3 class='text-2xl font-bold text-navy mb-4'>{t.section_5.c1_title}</h3>
              <p class='text-slate-500 leading-relaxed'>{tr(t.section_5.c1_desc)}</p>
            </div>
            <!-- Contenedor de la imagen con Efecto 3D -->
            <div class='absolute right-0 bottom-0 w-[85%] h-[72%] translate-x-12 translate-y-12 group-hover:translate-x-8 group-hover:translate-y-8 transition-transform duration-700 ease-out'>
              <!-- Mockup Browser Frame (Simulado con CSS) -->
              <div class='w-full h-full bg-white rounded-tl-xl shadow-2xl border border-slate-200/60 overflow-hidden'>
                <!-- Barra superior del navegador simulada -->
                <div class='h-8 bg-slate-50 border-b border-slate-100 flex items-center gap-2 px-4'>
                  <div class='w-2.5 h-2.5 rounded-full bg-red-400/50'></div>
                  <div class='w-2.5 h-2.5 rounded-full bg-amber-400/50'></div>
                  <div class='w-2.5 h-2.5 rounded-full bg-green-400/50'></div>
                </div>

                <!-- IMAGEN DASHBOARD -->
                <img src={websiteImg.src} loading='lazy' alt='Dashboard UI DopperCut' class='w-full h-full object-cover object-top-left' />
              </div>
              <!-- Sombra decorativa detr谩s para dar profundidad -->
              <div class='absolute -inset-4 bg-cyan-500/10 blur-2xl -z-10 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-700'></div>
            </div>
          </div>

          <!-- Card Peque帽a: Mobile First -->
          <div class='reveal delay-100 lg:col-span-1 bg-navy rounded-[2.5rem] p-8 border border-slate-800 relative overflow-hidden text-white flex flex-col group'>
            <!-- Efecto de luz de fondo (Branding Color) -->
            <!-- Usamos cyan-500 para que coincida con tu marca -->
            <div class='absolute top-0 right-0 w-64 h-64 bg-cyan-500 rounded-full blur-[120px] opacity-20 group-hover:opacity-40 transition-opacity duration-700'></div>
            <div class='relative z-10 mb-8'>
              <div class='w-12 h-12 rounded-xl bg-white/10 backdrop-blur-sm border border-white/10 flex items-center justify-center mb-6 text-cyan-300'>
                <svg class='w-6 h-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                  ><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z'></path></svg
                >
              </div>
              <h3 class='text-xl font-bold mb-3'>{t.section_5.c2_title}</h3>
              <p class='text-slate-300 text-sm leading-relaxed'>{t.section_5.c2_desc}</p>
            </div>
            <!-- Contenedor del Celular -->
            <div class='mt-auto flex justify-center relative translate-y-8 group-hover:translate-y-4 transition-transform duration-700 ease-out'>
              <!-- Marco del celular (iPhone Style CSS) -->
              <div class='relative w-[240px] h-[480px] bg-white rounded-[3rem] border-8 border-slate-800 shadow-2xl ring-1 ring-white/10 overflow-hidden'>
                <!-- Notch / Isla Din谩mica -->
                <div class='absolute top-0 left-1/2 -translate-x-1/2 h-7 w-24 bg-black rounded-b-2xl z-20 flex items-center justify-center gap-2'>
                  <div class='w-12 h-1.5 bg-slate-800/50 rounded-full'></div>
                </div>

                <!-- IMAGEN MOBILE -->
                <img src={mobileImg.src} alt='Mobile Booking Interface' loading='lazy' class='w-full h-full object-cover bg-white mt-4' />
                <!-- Brillo sobre la pantalla (Glass Reflection) -->
                <div class='absolute inset-0 bg-linear-to-tr from-transparent via-white/5 to-transparent pointer-events-none z-10'></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 6. CMO FUNCIONA (Timeline Service) -->
    <section id='como-funciona' class='py-24 bg-slate-50 relative overflow-hidden'>
      <div class='max-w-5xl mx-auto px-6 relative z-10'>
        <!-- T铆tulo -->
        <div class='text-center max-w-3xl mx-auto mb-20 reveal'>
          <h2 class='text-3xl lg:text-4xl font-bold text-navy mb-4'>{t.section_6.title}</h2>
          <p class='text-slate-500 text-lg'>{t.section_6.subtitle}</p>
        </div>

        <div class='relative'>
          <!-- L铆nea vertical central (Solo desktop) -->
          <div class='absolute left-8 lg:left-1/2 top-0 bottom-0 w-0.5 bg-slate-200 -translate-x-1/2 hidden lg:block'></div>
          {
            steps.map((item, i) => (
              <div class={`reveal relative flex flex-col lg:flex-row gap-8 mb-16 lg:mb-32 ${i % 2 !== 0 ? 'lg:flex-row-reverse' : ''}`}>
                <div class='flex-1 lg:text-right'>
                  <div class={`hidden lg:block ${i % 2 !== 0 ? 'lg:text-left' : ''}`}>
                    <h3 class='text-2xl font-bold text-navy mb-3'>{item.title}</h3>
                    <p class='text-slate-600 text-lg leading-relaxed'>{item.text}</p>
                  </div>
                </div>
                <div class='relative shrink-0 flex justify-center z-10'>
                  <div class='w-16 h-16 rounded-full bg-white shadow-lg flex items-center justify-center relative'>
                    <div class='absolute inset-0 rounded-full p-[3px] bg-primary-gradient -z-10' />
                    <div class='w-full h-full bg-white rounded-full flex items-center justify-center'>
                      <span class='text-xl font-bold text-transparent bg-clip-text bg-primary-gradient'>{item.step}</span>
                    </div>
                  </div>
                </div>

                <div class='flex-1'>
                  <div class={`lg:hidden mb-6 pl-4 border-l-4 border-cyan-400`}>
                    <h3 class='text-xl font-bold text-navy'>{item.title}</h3>
                    <p class='text-slate-600 mt-2'>{item.text}</p>
                  </div>
                  <div class='bg-white rounded-2xl border border-slate-100 shadow-xl hover:shadow-2xl transition-shadow duration-500 overflow-hidden relative group h-48 md:h-64 flex items-center justify-center'>
                    <div class='text-center p-6'>
                      <div class='w-16 h-16 mx-auto bg-cyan-50 text-cyan-600 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform'>
                        <svg class='w-8 h-8' fill='none' viewBox='0 0 24 24' stroke='currentColor'>
                          <path stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d={item.icon} />
                        </svg>
                      </div>
                      <p class='text-sm font-semibold text-slate-400 uppercase tracking-widest'>
                        {t.section_6.step} {item.step}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </section>

    <!-- 7. PRICING TEASER (Clean Style) -->
    <section class='py-24 bg-white relative'>
      <div class='max-w-4xl mx-auto px-6'>
        <!-- Header minimalista -->
        <div class='text-center max-w-2xl mx-auto mb-12'>
          <h2 class='reveal text-3xl md:text-4xl font-bold text-navy mb-4 tracking-tight'>{t.section_7.title}</h2>
          <p class='text-slate-500 text-lg'>{t.section_7.subtitle}</p>
        </div>

        <!-- Card Horizontal "Bento-like" -->
        <div class='reveal delay-100 relative group'>
          <div class='relative bg-slate-50 rounded-3xl p-8 md:p-10 border border-slate-200 hover:border-primary/30 transition-colors duration-300'>
            <div class='flex flex-col md:flex-row items-center justify-between gap-8'>
              <!-- Izquierda: Valor -->
              <div class='text-left flex-1'>
                <div class='inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white border border-slate-200 text-navy text-xs font-bold uppercase tracking-wide mb-4 shadow-sm'>
                  <span class='w-2 h-2 rounded-full bg-green-500 animate-pulse'></span>
                  {t.section_7.card_caption}
                </div>
                <h3 class='text-2xl font-bold text-navy mb-3'>{t.section_7.card_title}</h3>
                <p class='text-slate-600 leading-relaxed mb-6'>{t.section_7.card_desc}</p>

                <!-- Features micro -->
                <div class='flex flex-wrap gap-4'>
                  <div class='flex items-center gap-2 text-sm text-slate-700 font-medium bg-white px-3 py-1.5 rounded-lg border border-slate-100'>
                    <svg class='w-4 h-4 text-primary' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 13l4 4L19 7'></path></svg>
                    {t.section_7.card_credit}
                  </div>
                  <div class='flex items-center gap-2 text-sm text-slate-700 font-medium bg-white px-3 py-1.5 rounded-lg border border-slate-100'>
                    <svg class='w-4 h-4 text-primary' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'></path></svg>
                    {t.section_7.support}
                  </div>
                </div>
              </div>

              <!-- Derecha: Acci贸n suave -->
              <div class='flex flex-col items-center gap-3 w-full md:w-auto shrink-0'>
                <a
                  href='/precios'
                  class='w-full md:w-auto px-8 py-3 bg-white text-navy border border-slate-200 font-semibold rounded-xl hover:bg-slate-50 hover:border-slate-300 transition-all shadow-sm text-center flex items-center justify-center gap-2 group'
                >
                  {t.section_7.card_btn}
                  <svg class='w-4 h-4 text-slate-400 group-hover:translate-x-1 transition-transform' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                    ><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M17 8l4 4m0 0l-4 4m4-4H3'></path></svg
                  >
                </a>
                <span class='text-xs text-slate-400'>{t.section_7.card_btn_desc}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 8. FINAL CTA & CONTACT (Navy Section) -->
    <section id='contacto' class='py-24 bg-navy relative overflow-hidden'>
      <!-- Decoraci贸n de fondo sutil (Grid t茅cnico) -->
      <div class='absolute top-0 left-0 w-full h-full opacity-[0.03]'></div>

      <!-- C铆rculo de luz muy sutil en una esquina -->
      <div class='absolute top-0 right-0 w-[500px] h-[500px] bg-indigo-500/10 rounded-full blur-[100px] pointer-events-none'></div>

      <div class='max-w-6xl mx-auto px-6 relative z-10 grid lg:grid-cols-2 gap-16 items-start pt-8'>
        <!-- COLUMNA IZQUIERDA: Mensaje + WhatsApp Directo -->
        <div class='reveal text-white flex flex-col h-full justify-center'>
          <h2 class='text-4xl lg:text-5xl font-bold mb-6 leading-tight tracking-tight'>
            {t.section_8.title1}
            <br />{t.section_8.title2}
          </h2>
          <p class='text-slate-300 text-lg mb-10 leading-relaxed'>{t.section_8.subtitle}</p>

          <!-- Opci贸n A: WhatsApp Card -->
          <div class='bg-white/5 border border-white/10 rounded-2xl p-6 backdrop-blur-sm hover:bg-white/10 transition-colors cursor-pointer group'>
            <a href='https://wa.me/5493515488060' target='_blank' class='flex items-center gap-5'>
              <div class='w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow-lg shadow-green-500/20 group-hover:scale-110 transition-transform duration-300'>
                <svg class='w-8 h-8 text-white' fill='currentColor' viewBox='0 0 24 24'
                  ><path
                    d='M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z'
                  ></path></svg
                >
              </div>
              <div>
                <h3 class='text-white font-bold text-lg group-hover:text-green-400 transition-colors'>{t.section_8.ws_title}</h3>
                <p class='text-slate-400 text-sm'>{t.section_8.ws_desc}</p>
              </div>
              <div class='ml-auto text-slate-500 group-hover:translate-x-1 transition-transform'>
                <svg class='w-5 h-5' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 5l7 7-7 7'></path></svg>
              </div>
            </a>
          </div>

          <!-- Datos de contacto extra (Opcional) -->
          <div class='mt-8 flex items-center gap-6 text-slate-400 text-sm'>
            <span class='flex items-center gap-2'>
              <svg class='w-4 h-4' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                ><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z'></path></svg
              >
              hola@doppercut.com
            </span>
            <span class='flex items-center gap-2'>
              <svg class='w-4 h-4' fill='none' viewBox='0 0 24 24' stroke='currentColor'
                ><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z'></path></svg
              >
              {t.section_8.protected}
            </span>
          </div>
        </div>

        <!-- COLUMNA DERECHA: Opci贸n B - Formulario Formal -->
        <div class='reveal delay-200 bg-white rounded-2xl p-8 shadow-2xl shadow-black/20 border border-slate-100'>
          <h3 class='text-navy font-bold text-2xl mb-2'>{t.section_8.form_title}</h3>
          <p class='text-slate-500 text-sm mb-6'>{t.section_8.form_desc}</p>

          <form id='form-alta' action='https://api.web3forms.com/submit' method='POST' class='space-y-4'>
            <!-- 1. TU ACCESS KEY (REEMPLAZA CON LA TUYA) -->
            <input type='hidden' name='access_key' value='3fde33d2-47f2-4cf1-ab21-7f97bd461f5d' />

            <!-- 2. Configuraci贸n Extra -->
            <input type='hidden' name='subject' value='Nuevo Lead - One Page (DopperCut)' />
            <input type='hidden' name='from_name' value='DopperCut Web' />
            <!-- Evita SPAM (Honeypot) -->
            <input type='checkbox' name='botcheck' class='hidden' style='display: none;' />

            <div class='grid grid-cols-2 gap-4'>
              <div class='space-y-1'>
                <label class='text-xs font-semibold text-navy uppercase tracking-wider'>{t.section_8.form_name}</label>
                <input type='text' name='name' required class='w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-navy focus:ring-1 focus:ring-navy outline-none transition-all placeholder:text-slate-300' />
              </div>
              <div class='space-y-1'>
                <label class='text-xs font-semibold text-navy uppercase tracking-wider'>{t.section_8.form_lastname}</label>
                <input type='text' name='lastname' required class='w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-navy focus:ring-1 focus:ring-navy outline-none transition-all placeholder:text-slate-300' />
              </div>
            </div>

            <div class='space-y-1'>
              <label class='text-xs font-semibold text-navy uppercase tracking-wider'>{t.section_8.form_business_name}</label>
              <input type='text' name='business_name' required class='w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-navy focus:ring-1 focus:ring-navy outline-none transition-all placeholder:text-slate-300' />
            </div>

            <div class='space-y-1'>
              <label class='text-xs font-semibold text-navy uppercase tracking-wider'>{t.section_8.form_phone}</label>
              <input type='tel' name='phone_number' required class='w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-navy focus:ring-1 focus:ring-navy outline-none transition-all placeholder:text-slate-300' />
            </div>

            <div class='space-y-1'>
              <label class='text-xs font-semibold text-navy uppercase tracking-wider'>{t.section_8.form_note}</label>
              <textarea name='note' required class='w-full px-4 py-3 rounded-lg bg-slate-50 border border-slate-200 focus:border-navy focus:ring-1 focus:ring-navy outline-none transition-all placeholder:text-slate-300'></textarea>
            </div>

            <button id='btn-submit' type='submit' class='cursor-pointer w-full py-4 bg-navy text-white font-bold rounded-lg hover:bg-slate-800 transition-all duration-300 hover:shadow-lg hover:-translate-y-0.5 mt-2'>
              <span>{t.section_8.form_btn}</span>
            </button>

            <!-- Mensaje de 茅xito (oculto por defecto) -->
            <div id='result-message' class='hidden text-center p-3 bg-green-50 text-green-700 rounded-lg text-sm border border-green-100 mt-4'>隆Solicitud enviada! Te contactaremos en breve.</div>

            <p class='text-center text-xs text-slate-400 mt-4'>{t.section_8.form_caption}</p>
          </form>
        </div>
      </div>
    </section>
  </main>

  <Footer country={countryParam} />
</Layout>
